service: AWSCodePipeline
version: "1.0.0"

inputs:
  - name: active_pipelines
    type: integer
    required: true
    default: 1
  - name: pipeline_executions_per_month
    type: integer
    required: true
    default: 30

calculation_steps:
  - id: pipeline_cost
    description: "Active pipeline cost"
    formula: "active_pipelines * 1.00"
    output: pipeline_cost
  - id: execution_cost
    description: "Pipeline execution cost"
    formula: "pipeline_executions_per_month * 0"
    output: execution_cost

total_formula: "pipeline_cost + execution_cost"

assumptions:
  - "Active pipeline: $1.00 per month"
  - "First pipeline execution free per month"
  - "Pricing based on us-east-1"

pricing_sources:
  - name: "AWS CodePipeline Pricing"
    url: "https://aws.amazon.com/codepipeline/pricing/"
    last_updated: "2024-01-01"
