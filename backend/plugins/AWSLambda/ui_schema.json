{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "AWS Lambda Configuration",
    "required": [
        "memory_mb",
        "avg_duration_ms",
        "invocations_per_month"
    ],
    "properties": {
        "memory_mb": {
            "type": "integer",
            "title": "Memory (MB)",
            "description": "Memory allocation for the function",
            "minimum": 128,
            "maximum": 10240,
            "default": 1024,
            "multipleOf": 64
        },
        "avg_duration_ms": {
            "type": "integer",
            "title": "Average Duration (ms)",
            "description": "Average execution time per invocation",
            "minimum": 1,
            "maximum": 900000,
            "default": 1000
        },
        "invocations_per_month": {
            "type": "integer",
            "title": "Invocations per Month",
            "description": "Expected number of function invocations",
            "minimum": 0,
            "default": 1000000
        },
        "architecture": {
            "type": "string",
            "title": "Architecture",
            "description": "Processor architecture",
            "enum": [
                "x86_64",
                "arm64"
            ],
            "default": "x86_64",
            "enumNames": [
                "x86_64 (Intel/AMD)",
                "arm64 (Graviton2 - 20% cheaper)"
            ]
        },
        "ephemeral_storage_mb": {
            "type": "integer",
            "title": "Ephemeral Storage (MB)",
            "description": "Temporary storage available to function",
            "minimum": 512,
            "maximum": 10240,
            "default": 512
        },
        "timeout_seconds": {
            "type": "integer",
            "title": "Timeout (seconds)",
            "description": "Maximum execution time",
            "minimum": 1,
            "maximum": 900,
            "default": 30
        },
        "vpc_config": {
            "type": "object",
            "title": "VPC Configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "title": "Run in VPC",
                    "default": false
                }
            }
        },
        "trigger_type": {
            "type": "string",
            "title": "Primary Trigger",
            "enum": [
                "api_gateway",
                "s3",
                "dynamodb",
                "sqs",
                "eventbridge",
                "manual"
            ],
            "default": "api_gateway"
        }
    }
}