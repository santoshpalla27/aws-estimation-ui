service: AWSCodeCommit
version: "1.0.0"

inputs:
  - name: active_users
    type: integer
    required: true
    default: 5
  - name: storage_gb
    type: number
    required: false
    default: 1

calculation_steps:
  - id: user_cost
    description: "Active user cost"
    formula: |
      if active_users <= 5:
        0
      else:
        (active_users - 5) * 1.00
    output: user_cost
  - id: storage_cost
    description: "Storage cost"
    formula: |
      if storage_gb <= 50:
        0
      else:
        (storage_gb - 50) * 0.06
    output: storage_cost

total_formula: "user_cost + storage_cost"

assumptions:
  - "First 5 active users free"
  - "Additional users: $1.00 per month"
  - "First 50GB storage free"
  - "Additional storage: $0.06/GB-month"

pricing_sources:
  - name: "AWS CodeCommit Pricing"
    url: "https://aws.amazon.com/codecommit/pricing/"
    last_updated: "2024-01-01"
