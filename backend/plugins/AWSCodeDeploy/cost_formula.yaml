service: AWSCodeDeploy
version: "1.0.0"

inputs:
  - name: deployment_target
    type: string
    required: true
    default: "EC2"

calculation_steps:
  - id: deploy_cost
    description: "CodeDeploy cost"
    formula: |
      if deployment_target == 'EC2':
        0
      elif deployment_target == 'Lambda':
        0
      else:
        0
    output: deploy_cost

total_formula: "deploy_cost"

assumptions:
  - "CodeDeploy to EC2/Lambda: Free"
  - "CodeDeploy to on-premises: $0.02 per update"

pricing_sources:
  - name: "AWS CodeDeploy Pricing"
    url: "https://aws.amazon.com/codedeploy/pricing/"
    last_updated: "2024-01-01"
