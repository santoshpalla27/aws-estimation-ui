service_id: AmazonSNS
version: "1.0.0"
category: Messaging

metadata:
  service_id: AmazonSNS
  display_name: Amazon SNS
  description: Fully managed pub/sub messaging service for application-to-application and application-to-person communication
  category: Messaging
  icon_url: ""
  tags:
    - messaging
    - pub-sub
    - notifications
    - sms
    - email

dependencies:
  mandatory: []
  conditional:
    - service: AWSLambda
      condition: "lambda_subscriptions > 0"
      reason: "Lambda function subscriptions"
    - service: AmazonSQS
      condition: "sqs_subscriptions > 0"
      reason: "SQS queue subscriptions"
  implicit: []

validation_rules:
  - field: publish_requests
    rule: "publish_requests > 0"
    message: "Publish requests must be greater than 0"
    severity: error
    
  - field: notification_deliveries
    rule: "notification_deliveries >= publish_requests"
    message: "Notification deliveries should be >= publish requests (fanout)"
    severity: warning
