service: AmazonOpenSearchService
version: "1.0.0"
inputs:
  - name: instance_type
    type: string
    required: true
    default: "t3.small.search"
  - name: instance_count
    type: integer
    required: true
    default: 2
  - name: storage_gb
    type: number
    required: true
    default: 100
calculation_steps:
  - id: instance_cost
    description: "Instance cost"
    formula: |
      if instance_type == 't3.small.search':
        instance_count * 0.036 * 730
      elif instance_type == 't3.medium.search':
        instance_count * 0.073 * 730
      elif instance_type == 'm5.large.search':
        instance_count * 0.139 * 730
      else:
        instance_count * 0.139 * 730
    output: instance_cost
  - id: storage_cost
    description: "Storage cost"
    formula: "storage_gb * 0.135"
    output: storage_cost
total_formula: "instance_cost + storage_cost"
assumptions:
  - "t3.small: $0.036/hour"
  - "Storage: $0.135/GB-month"
pricing_sources:
  - name: "Amazon OpenSearch Pricing"
    url: "https://aws.amazon.com/opensearch-service/pricing/"
    last_updated: "2024-01-01"
